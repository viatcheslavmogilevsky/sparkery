{
    "version": 3,
    "terraform_version": "0.7.0",
    "serial": 1,
    "lineage": "c3af801f-f186-4759-81f0-8c61f775be24",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_internet_gateway.sparkery-vpc-gw": {
                    "type": "aws_internet_gateway",
                    "depends_on": [
                        "aws_vpc.sparkery-vpc"
                    ],
                    "primary": {
                        "id": "igw-e5177a8c",
                        "attributes": {
                            "id": "igw-e5177a8c",
                            "tags.%": "2",
                            "tags.Environment": "sparkery",
                            "tags.Name": "sparkery-vpc-gw",
                            "vpc_id": "vpc-6c0f0705"
                        }
                    }
                },
                "aws_route_table.sparkery-vpc-route-table": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_internet_gateway.sparkery-vpc-gw",
                        "aws_vpc.sparkery-vpc"
                    ],
                    "primary": {
                        "id": "rtb-fc876594",
                        "attributes": {
                            "id": "rtb-fc876594",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.3102070218.cidr_block": "0.0.0.0/0",
                            "route.3102070218.gateway_id": "igw-e5177a8c",
                            "route.3102070218.instance_id": "",
                            "route.3102070218.nat_gateway_id": "",
                            "route.3102070218.network_interface_id": "",
                            "route.3102070218.vpc_peering_connection_id": "",
                            "tags.%": "2",
                            "tags.Environment": "sparkery",
                            "tags.Name": "sparkery-vpc-route-table",
                            "vpc_id": "vpc-6c0f0705"
                        }
                    }
                },
                "aws_route_table_association.sparkery-vpc-route-table-assoc-a": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.sparkery-vpc-route-table",
                        "aws_subnet.sparkery-vpc-subnet-a"
                    ],
                    "primary": {
                        "id": "rtbassoc-3e73c656",
                        "attributes": {
                            "id": "rtbassoc-3e73c656",
                            "route_table_id": "rtb-fc876594",
                            "subnet_id": "subnet-a83effc0"
                        }
                    }
                },
                "aws_route_table_association.sparkery-vpc-route-table-assoc-b": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.sparkery-vpc-route-table",
                        "aws_subnet.sparkery-vpc-subnet-b"
                    ],
                    "primary": {
                        "id": "rtbassoc-c773c6af",
                        "attributes": {
                            "id": "rtbassoc-c773c6af",
                            "route_table_id": "rtb-fc876594",
                            "subnet_id": "subnet-1bbeaf60"
                        }
                    }
                },
                "aws_security_group.sparkery-security-group-common": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.sparkery-vpc"
                    ],
                    "primary": {
                        "id": "sg-3955d551",
                        "attributes": {
                            "description": "Allow incoming SSH connections, outbound internet access and ICMP",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-3955d551",
                            "ingress.#": "2",
                            "ingress.1799340084.cidr_blocks.#": "1",
                            "ingress.1799340084.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.1799340084.from_port": "-1",
                            "ingress.1799340084.protocol": "icmp",
                            "ingress.1799340084.security_groups.#": "0",
                            "ingress.1799340084.self": "false",
                            "ingress.1799340084.to_port": "-1",
                            "ingress.2541437006.cidr_blocks.#": "1",
                            "ingress.2541437006.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2541437006.from_port": "22",
                            "ingress.2541437006.protocol": "tcp",
                            "ingress.2541437006.security_groups.#": "0",
                            "ingress.2541437006.self": "false",
                            "ingress.2541437006.to_port": "22",
                            "name": "sparkery-common",
                            "owner_id": "705126467780",
                            "tags.%": "2",
                            "tags.Environment": "sparkery",
                            "tags.Name": "sparkery-security-group-common",
                            "vpc_id": "vpc-6c0f0705"
                        }
                    }
                },
                "aws_security_group.sparkery-security-group-inside": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_security_group.sparkery-security-group-common",
                        "aws_vpc.sparkery-vpc"
                    ],
                    "primary": {
                        "id": "sg-3055d558",
                        "attributes": {
                            "description": "Allow all incoming connection inside vpc",
                            "egress.#": "0",
                            "id": "sg-3055d558",
                            "ingress.#": "1",
                            "ingress.3700589444.cidr_blocks.#": "0",
                            "ingress.3700589444.from_port": "0",
                            "ingress.3700589444.protocol": "-1",
                            "ingress.3700589444.security_groups.#": "1",
                            "ingress.3700589444.security_groups.570847159": "sg-3955d551",
                            "ingress.3700589444.self": "false",
                            "ingress.3700589444.to_port": "0",
                            "name": "sparkery-inside",
                            "owner_id": "705126467780",
                            "tags.%": "2",
                            "tags.Environment": "sparkery",
                            "tags.Name": "sparkery-security-group-inside",
                            "vpc_id": "vpc-6c0f0705"
                        }
                    }
                },
                "aws_security_group.sparkery-security-group-web": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.sparkery-vpc"
                    ],
                    "primary": {
                        "id": "sg-3855d550",
                        "attributes": {
                            "description": "Allow incoming HTTP(S)/Spark UI/Hadoop UI connections",
                            "egress.#": "0",
                            "id": "sg-3855d550",
                            "ingress.#": "4",
                            "ingress.2214680975.cidr_blocks.#": "1",
                            "ingress.2214680975.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2214680975.from_port": "80",
                            "ingress.2214680975.protocol": "tcp",
                            "ingress.2214680975.security_groups.#": "0",
                            "ingress.2214680975.self": "false",
                            "ingress.2214680975.to_port": "80",
                            "ingress.2617001939.cidr_blocks.#": "1",
                            "ingress.2617001939.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2617001939.from_port": "443",
                            "ingress.2617001939.protocol": "tcp",
                            "ingress.2617001939.security_groups.#": "0",
                            "ingress.2617001939.self": "false",
                            "ingress.2617001939.to_port": "443",
                            "ingress.2820294134.cidr_blocks.#": "1",
                            "ingress.2820294134.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.2820294134.from_port": "4000",
                            "ingress.2820294134.protocol": "tcp",
                            "ingress.2820294134.security_groups.#": "0",
                            "ingress.2820294134.self": "false",
                            "ingress.2820294134.to_port": "5000",
                            "ingress.3059289755.cidr_blocks.#": "1",
                            "ingress.3059289755.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.3059289755.from_port": "8000",
                            "ingress.3059289755.protocol": "tcp",
                            "ingress.3059289755.security_groups.#": "0",
                            "ingress.3059289755.self": "false",
                            "ingress.3059289755.to_port": "9000",
                            "name": "sparkery-web",
                            "owner_id": "705126467780",
                            "tags.%": "2",
                            "tags.Environment": "sparkery",
                            "tags.Name": "sparkery-security-group-web",
                            "vpc_id": "vpc-6c0f0705"
                        }
                    }
                },
                "aws_subnet.sparkery-vpc-subnet-a": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.sparkery-vpc"
                    ],
                    "primary": {
                        "id": "subnet-a83effc0",
                        "attributes": {
                            "availability_zone": "eu-central-1a",
                            "cidr_block": "10.0.0.0/24",
                            "id": "subnet-a83effc0",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "2",
                            "tags.Environment": "sparkery",
                            "tags.Name": "sparkery-vpc-subnet-a",
                            "vpc_id": "vpc-6c0f0705"
                        }
                    }
                },
                "aws_subnet.sparkery-vpc-subnet-b": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.sparkery-vpc"
                    ],
                    "primary": {
                        "id": "subnet-1bbeaf60",
                        "attributes": {
                            "availability_zone": "eu-central-1b",
                            "cidr_block": "10.0.1.0/24",
                            "id": "subnet-1bbeaf60",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "2",
                            "tags.Environment": "sparkery",
                            "tags.Name": "sparkery-vpc-subnet-b",
                            "vpc_id": "vpc-6c0f0705"
                        }
                    }
                },
                "aws_vpc.sparkery-vpc": {
                    "type": "aws_vpc",
                    "primary": {
                        "id": "vpc-6c0f0705",
                        "attributes": {
                            "cidr_block": "10.0.0.0/16",
                            "default_network_acl_id": "acl-8247a0ea",
                            "default_security_group_id": "sg-2355d54b",
                            "dhcp_options_id": "dopt-9a8f6df3",
                            "enable_dns_hostnames": "true",
                            "enable_dns_support": "true",
                            "id": "vpc-6c0f0705",
                            "instance_tenancy": "default",
                            "main_route_table_id": "rtb-e687658e",
                            "tags.%": "2",
                            "tags.Environment": "sparkery",
                            "tags.Name": "sparkery-vpc"
                        }
                    }
                }
            }
        }
    ]
}
